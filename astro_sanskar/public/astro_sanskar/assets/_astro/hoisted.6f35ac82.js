import"./hoisted.f5929443.js";document.addEventListener("DOMContentLoaded",function(){document.querySelector(".toggle-menu").addEventListener("click",function(){E()})});function E(){const e=document.getElementById("mobile-menu");e.classList.contains("menu-hidden")?(e.classList.remove("menu-hidden"),e.classList.add("menu-visible")):(e.classList.remove("menu-visible"),e.classList.add("menu-hidden"))}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".button");let n=null;e.forEach(t=>{t.addEventListener("click",function(i){i.preventDefault();const o=this.getAttribute("href");window.location.href=o,n&&n.classList.remove("active"),t.classList.add("active"),n=t})})});function A(e){document.addEventListener("DOMContentLoaded",e,!1)}A(()=>{const e=window.matchMedia("(prefers-reduced-motion)");({container:document.querySelector(".js-toc"),links:null,headings:null,intersectionOptions:{rootMargin:"0px",threshold:1},previousSection:null,observer:null,init(){this.handleObserver=this.handleObserver.bind(this),this.setUpObserver(),this.findLinksAndHeadings(),this.observeSections(),this.links.forEach(t=>{t.addEventListener("click",this.handleLinkClick.bind(this))})},handleLinkClick(t){t.preventDefault();let i=t.target.getAttribute("href").replace("#",""),o=this.headings.find(s=>s.getAttribute("id")===i);o.setAttribute("tabindex",-1),o.focus(),window.scroll({behavior:e.matches?"instant":"smooth",top:o.offsetTop-15,block:"start"}),this.container.classList.contains("is-active")&&this.container.classList.remove("is-active")},handleObserver(t,i){t.forEach(o=>{let s=`#${o.target.getAttribute("id")}`,c=this.links.find(u=>u.getAttribute("href")===s);o.isIntersecting&&o.intersectionRatio>=1?(c.classList.add("is-visible"),this.previousSection=o.target.getAttribute("id")):c.classList.remove("is-visible"),this.highlightFirstActive()})},highlightFirstActive(){let t=this.container.querySelector(".is-visible");this.links.forEach(i=>{i.classList.remove("is-active")}),t&&t.classList.add("is-active"),!t&&this.previousSection&&this.container.querySelector(`a[href="#${this.previousSection}"]`).classList.add("is-active")},observeSections(){this.headings.forEach(t=>{this.observer.observe(t)})},setUpObserver(){this.observer=new IntersectionObserver(this.handleObserver,this.intersectionOptions)},findLinksAndHeadings(){this.links=[...this.container.querySelectorAll("a")],this.headings=this.links.map(t=>{let i=t.getAttribute("href");return document.querySelector(i)})}}).init()});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(n){n.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});var C=document.getElementById("support_form");C.addEventListener("submit",j);var r=document.querySelector('input[name="support_email"]');r.addEventListener("blur",O);function O(){const e=r.value.trim(),n=r.nextElementSibling;if(e===""){m(n),r.style.borderColor="";return}L(e)?(m(n),r.style.borderColor=""):(d(r),k(n,"Please enter a valid email address.",r))}var a=document.querySelector('input[name="support_name"]');a.addEventListener("blur",_);function _(){const e=a.value.trim(),n=a.nextElementSibling;if(e===""){m(n),a.style.borderColor="";return}S(e)?(m(n),a.style.borderColor=""):(d(a),k(n,"Please enter a valid name.",a))}function L(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function S(e){return/^(?=(?:[^A-Za-z]*[A-Za-z]){2})(?![^\d~`?!^*¨ˆ;@=$%{}\[\]|\\\/<>#“.,]*[\d~`?!^*¨ˆ;@=$%{}\[\]|\\\/<>#“.,])\S+(?: \S+){0,2}$/.test(String(e).toLowerCase())}function k(e,n,t){!e||!e.classList.contains("error-message")?(e=document.createElement("p"),e.textContent=n,e.classList.add("error-message"),e.style.color="red",e.style.fontSize="0.8rem",e.style.marginTop="0.2rem",e.style.marginBottom="0",t.parentNode.insertBefore(e,t.nextSibling)):e.textContent=n}function m(e){e&&e.classList.contains("error-message")&&e.remove()}const q="c9025a4d07020e1",I="78509ec3e33e18e";function d(e){e.style.borderColor!=="red"?e.style.borderColor="red":e.style.borderColor=""}function h(e){e.addEventListener("focus",()=>{e.style.borderColor=""})}function j(e){e.preventDefault();const n=e.target,t=n.querySelector('input[name="support_name"]'),i=n.querySelector('input[name="support_email"]'),o=document.querySelector('textarea[name="support_requirements"]'),s=t.value.trim(),c=i.value.trim(),u=o.value.trim();if(h(t),h(i),h(o),s===""&&d(t),c===""&&d(i),u===""&&d(o),s===""||c===""||u==="")return;new URLSearchParams(window.location.search).get("page");const p=new FormData(e.target),l=Object.fromEntries(p.entries());console.log(l),p.set("data",JSON.stringify(l));var v=l.support_name,b=l.support_email,g=l.support_requirements;L(c)&&S(s)&&fetch("http://192.168.2.126:8000/api/resource/Issue",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`token ${q}:${I}`},body:JSON.stringify({custom_full_name:v,raised_by:b,subject:g,customer:"Website Support",project:"Website Support"})}).then(f=>{f.status===200?window.location.href="/thank-you":(T(v,b,g,"Website Support","Website Support"),alert("Failed to submit data. Please try after some time."))}).catch(f=>{console.log(f)})}function D(){return new Promise((e,n)=>{fetch("https://api.ipify.org?format=json").then(t=>t.json()).then(t=>{const i=t.ip;e(i)}).catch(t=>{console.error("Error fetching IP address:",t),n(t)})})}D();function T(e="",n="",t="",i="",o=""){console.log("sending email notification..."),fetch("https://sanskartechnolab.com/api/method/astro_sanskar.api.send_form_failed_notification",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({custom_full_name:e,raised_by:n,subject:t,customer:"Website Support",project:"Website Support",page_name:"Follow Up App"})}).then(s=>{s.status===200?console.log("email notification sent."):(console.log("failed to send email notification",s),alert("We are unable to process your request. please send your requirements on info@sanskartechnolab.com"))}).catch(s=>{console.log("error",s)})}function y(){var e=document.getElementById("tablecontentmenu");window.scrollY>400?e.style.display="block":e.style.display="none"}function w(){if(window.innerWidth<=768)window.addEventListener("scroll",y);else{window.removeEventListener("scroll",y);var e=document.getElementById("tablecontentmenu");e.style.display="none"}}window.addEventListener("resize",w);document.addEventListener("DOMContentLoaded",function(){w()});document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll('a[href^="#"]');e.forEach(function(n){n.addEventListener("click",function(t){t.preventDefault();var i=this.hash,o=document.querySelector(i);window.scrollTo({top:o.offsetTop-115,behavior:"smooth"})})})});
