import"./hoisted.f5929443.js";let _;_=window.location.pathname.slice(1);console.log("Current URL:"+_);document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});var k=document.getElementById("talk_form");k.addEventListener("submit",D);var i=document.querySelector('input[name="healthcareemail"]');i.addEventListener("blur",A);function A(){const e=i.value.trim(),t=i.nextElementSibling;if(e===""){y(t),i.style.borderColor="";return}x(e)?(y(t),i.style.borderColor=""):(u(i),I(t,"Please enter a valid email address.",i))}var s=document.querySelector('input[name="healthcarename"]');s.addEventListener("blur",O);function O(){const e=s.value.trim(),t=s.nextElementSibling;if(e===""){y(t),s.style.borderColor="";return}P(e)?(y(t),s.style.borderColor=""):(u(s),I(t,"Please enter a valid name.",s))}function x(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function P(e){return/^(?=(?:[^A-Za-z]*[A-Za-z]){2})(?![^\d~`?!^*¨ˆ;@=$%{}\[\]|\\\/<>#“.,]*[\d~`?!^*¨ˆ;@=$%{}\[\]|\\\/<>#“.,])\S+(?: \S+){0,2}$/.test(String(e).toLowerCase())}function I(e,t,n){!e||!e.classList.contains("error-message")?(e=document.createElement("p"),e.textContent=t,e.classList.add("error-message"),e.style.color="red",e.style.fontSize="0.8rem",e.style.marginTop="0.2rem",e.style.marginBottom="0",n.parentNode.insertBefore(e,n.nextSibling)):e.textContent=t}function y(e){e&&e.classList.contains("error-message")&&e.remove()}const j="c9025a4d07020e1",V="78509ec3e33e18e";function u(e){e.style.borderColor!=="red"?e.style.borderColor="red":e.style.borderColor=""}function p(e){e.addEventListener("focus",()=>{e.style.borderColor=""})}function D(e){e.preventDefault();const t=e.target,n=t.querySelector('input[name="healthcarename"]'),r=t.querySelector('input[name="healthcareemail"]'),m=document.querySelector('textarea[name="healthcaremessage"]'),f=document.querySelector('input[name="healthcarephone"]'),l=n.value.trim(),c=r.value.trim(),h=m.value.trim();if(f.value.trim(),p(n),p(r),p(m),p(f),l===""&&u(n),c===""&&u(r),h===""&&u(m),l===""||c===""||h==="")return;new URLSearchParams(window.location.search).get("page");const d=new FormData(e.target);console.log("formData: ",d);const o=Object.fromEntries(d.entries());d.set("data",JSON.stringify(o));var b=o.healthcarename,w=o.healthcareemail,S=o.healthcarephone,C=o.healthcaremessage;function L(){return fetch("https://api.ipify.org?format=json").then(a=>a.json()).then(a=>a.ip).catch(a=>(console.error("Error fetching IP address:",a),null))}L().then(a=>{let{browserName:E,device:q}=z();x(c)&&P(l)&&fetch("https://sanskar.frappe.cloud/api/resource/Enquiry",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`token ${j}:${V}`},body:JSON.stringify({first_name:b,email:w,phone:S,message:C,enquiry_source:"Website Enquiry",query_type:"Demo",demo_for:"Health Care",ip:a,browser_name:E,device:q,website_page_name:"Health Care"})}).then(g=>{g.status===200?window.location.href="/thank-you":(B(b,w,S,C,"Website Enquiry","Demo","health care",a,E,q,"Health care"),alert("Failed to submit data. Please try after some time."))}).catch(g=>{console.log(g)})})}N().then(e=>{console.log("Received IP Address:",e)}).catch(e=>{console.error("Error:",e)});function N(){return new Promise((e,t)=>{fetch("https://api.ipify.org?format=json").then(n=>n.json()).then(n=>{const r=n.ip;e(r)}).catch(n=>{console.error("Error fetching IP address:",n),t(n)})})}function z(){const e=navigator.userAgent;var t="Unknown";e.indexOf("Chrome")!==-1?t="Google Chrome":e.indexOf("Firefox")!==-1?t="Mozilla Firefox":e.indexOf("Safari")!==-1?t="Apple Safari":e.indexOf("Edg")!==-1?t="Microsoft Edge":(e.indexOf("MSIE")!==-1||e.indexOf("Trident")!==-1)&&(t="Internet Explorer");const n=window.innerWidth;var r="Unknown";return n<=576?r="Mobile":n<=992?r="Tablet":n<=1200?r="Laptop":r="Desktop",{browserName:t,device:r}}function B(e="",t="",n="",r="",m="",f="",l="",c="",h="",v="",d=""){console.log("sending email notification..."),fetch("https://sanskartechnolab.com/api/method/astro_sanskar.api.send_form_failed_notification",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({full_name:e,email:t,phone:n,message:r,enquiry_source:"Website Enquiry",queryTypeValue:f,demoForValue:l,ip:c,browser_name:h,device:v,response:d,page_name:"Health Care "})}).then(o=>{o.status===200?alert("email notification sent."):alert("We are unable to process your request. please send your requirements on info@sanskartechnolab.com")}).catch(o=>{console.log("error",o)})}document.addEventListener("DOMContentLoaded",function(){console.log("object"),new Swiper(".swiper-container",{loop:!0,slidesPerView:1,spaceBetween:0,autoplay:{delay:3e3},navigation:{nextEl:".next-button",prevEl:".prev-button"},breakpoints:{640:{slidesPerView:1,centeredSlides:!0},768:{centeredSlides:!0,slidesPerView:1},1024:{centeredSlides:!0,slidesPerView:1}}})});
