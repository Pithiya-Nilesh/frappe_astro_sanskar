import"https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js";import"./hoisted.9037a6f0.js";var oe=document.getElementById("scrollButton"),U=document.getElementById("job");oe.addEventListener("click",function(){U.scrollIntoView({behavior:"smooth"})});var de=document.getElementById("scrollButton1");de.addEventListener("click",function(){U.scrollIntoView({behavior:"smooth"})});const se=document.querySelector(".c_slider"),H=document.querySelector(".c_slides"),ie=document.querySelector("#prev"),ce=document.querySelector("#next");let m=0;const re=se.clientWidth;let G;const K=c=>{H.style.transform=`translateX(-${re*c}px)`},Q=()=>{m++,m>=H.children.length&&(m=0),K(m)},pe=()=>{m--,m<0&&(m=H.children.length-1),K(m)},me=()=>{G=setInterval(Q,3e3)},Y=()=>{clearInterval(G)};ce.addEventListener("click",()=>{Q(),Y()});ie.addEventListener("click",()=>{pe(),Y()});me();document.addEventListener("DOMContentLoaded",function(){new Swiper(".swiper-container",{loop:!0,slidesPerView:1,spaceBetween:0,autoplay:{delay:3e3},navigation:{nextEl:".next-button",prevEl:".prev-button"},breakpoints:{640:{slidesPerView:1.5,centeredSlides:!0},768:{centeredSlides:!1,slidesPerView:2},1024:{centeredSlides:!1,slidesPerView:2},1280:{centeredSlides:!1,slidesPerView:3}}})});const ue=await fetch('https://sanskar.frappe.cloud/api/resource/Job Opening?filters=[["publish" , "=", 1]]&fields=["name", "job_title", "designation", "requiered_employee", "location", "requiered_experience"]'),ge=await ue.json(),Z=ge.data;if(Z==""){var z=document.createElement("div");z.classList.add("font-semibold","text-center"),z.textContent="Currently No Any Job Opening.",document.getElementById("job").appendChild(z)}Z.forEach(c=>{const L=document.createElement("div");L.classList.add("flex","justify-between","items-center","border","border-[#B5CBE3]","text-sm","md:text-sm","lg:text-base","rounded","bg-white","p-5","mx-auto","md:mx-20","lg:mx-40","mb-5");const F=document.createElement("div"),V=document.createElement("div");V.classList.add("font-semibold","mb-2","md:mb-3","lg:mb-1"),V.textContent=c.job_title||"",F.appendChild(V);const y=document.createElement("div");y.classList.add("flex","flex-wrap","gap-2","md:gap-3","lg:gap-5","mt-3","md:mt-auto");function T(n,o){const l=document.createElement("img");return l.src=n,l.alt=o,l}const S=document.createElement("div");S.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),S.appendChild(T("https://sanskartechnolab.com/files/c_user.svg","user"));const M=document.createElement("p");M.textContent=c.requiered_employee||0,S.appendChild(M),y.appendChild(S);const B=document.createElement("div");B.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),B.appendChild(T("https://sanskartechnolab.com/files/c_job.svg","job"));const O=document.createElement("p");O.textContent=c.requiered_experience||0,B.appendChild(O),y.appendChild(B);const D=document.createElement("div");D.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),D.appendChild(T("https://sanskartechnolab.com/files/c_map.svg","map"));const W=document.createElement("p");W.textContent=c.location||"unknown",D.appendChild(W),y.appendChild(D),F.appendChild(y),L.appendChild(F);const $=document.createElement("div");$.classList.add("flex","justify-between","bg-[#3E96F4]","rounded-lg","px-3","md:px-3","lg:px-5","py-2","md:py-2","lg:py-3");const w=document.createElement("button");w.classList.add("text-white","md:text-base","font-semibold","font-inter","openPopup","text-sm"),w.setAttribute("id",`openPopup${c.name}`),w.textContent="Apply Now",w.addEventListener("click",()=>{var n=document.getElementById("popup");n&&n.remove(),fetch(`https://sanskar.frappe.cloud/api/method/get_job_detail?name=${c.name}`).then(o=>o.json()).then(o=>{const l=o.data,p=document.createElement("div");p.className="fixed inset-0 z-0 backdrop-blur-sm",p.style.backgroundColor="rgba(0, 0, 0, 0.3)";const e=document.createElement("div");e.id="popup",e.className="absolute card-size z-10 text-[#31393C] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-[10px] p-6 shadow-md",window.innerWidth<=350?e.classList.add("w-60"):window.innerWidth<=768?e.classList.add("w-80"):e.classList.add("w-1/2"),document.body.appendChild(p),document.body.appendChild(e);const u=document.createElement("div");u.className="absolute top-4 right-4",u.id="closePopup";const g=document.createElement("img");g.src="https://sanskartechnolab.com/files/popup_close_btn.svg",g.alt="close",g.className="cursor-pointer",u.appendChild(g);const b=document.createElement("p");b.className="text-lg md:text-xl lg:text-2xl !leading-[36px] md:!leading-[40px] lg:!leading-[44px] font-semibold",b.textContent=l.job_title;const h=document.createElement("div");h.className="flex flex-wrap";const v=document.createElement("p");v.className="text-base md:text-lg lg:text-xl !leading-7 md:!leading-8 lg:!leading-9",v.innerHTML=`Experience: <strong>${l.requiered_experience||"0"}</strong> |`;const _=document.createElement("p");_.className="text-base md:text-lg lg:text-xl !leading-7 md:!leading-8 lg:!leading-9",_.innerHTML=`Location: <strong>${l.location||"unknown"}</strong>`,h.appendChild(v),h.appendChild(_);const d=document.createElement("div");d.className="mt-5 font-semibold text-xs md:text-sm lg:text-base",d.textContent="Skills Required:";const P=document.createElement("div");l.skill.forEach(i=>{const t=document.createElement("div");t.className="flex gap-2";const a=document.createElement("img");a.src="https://sanskartechnolab.com/files/correct.svg",a.alt="correct";const f=document.createElement("p");f.className="text-xs md:text-sm lg:text-base !leading-6 md:!leading-7 lg:!leading-8",f.textContent=i.skill,t.appendChild(a),t.appendChild(f),P.appendChild(t)});const C=document.createElement("div");C.className="mt-5 font-semibold text-xs md:text-sm lg:text-base",C.textContent="Responsibilities and Duties:";const q=document.createElement("div");l.responsibilities_and_duties.forEach(i=>{const t=document.createElement("div");t.className="flex gap-2";const a=document.createElement("img");a.src="https://sanskartechnolab.com/files/correct.svg",a.alt="correct";const f=document.createElement("p");f.className="text-xs md:text-sm lg:text-base !leading-6 md:!leading-7 lg:!leading-8",f.textContent=i.responsibilities_and_dutie,t.appendChild(a),t.appendChild(f),q.appendChild(t)});const A=document.createElement("div");A.className="w-full border border-[#D9D9D9] my-5";const N=document.createElement("p");N.className="text-lg md:text-xl lg:text-2xl !leading-[36px] md:!leading-[40px] lg:!leading-[44px] font-semibold",N.textContent="Apply for this job";const x=document.createElement("form");x.id="job_application_form",x.className="mt-5";const E=document.createElement("div");E.className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-3 lg:gap-5",["Name","Email","Phone"].forEach(i=>{const t=document.createElement("input");t.className="rounded-[3px] md:h-10 lg:h-auto",t.type="text",t.placeholder=i+"*",t.name=i.toLowerCase().replace(/\s+/g,"_"),E.appendChild(t);const a=document.createElement("style");a.textContent=`
              @media (max-width: 390px) {
                input[name="${t.name}"] {
                  font-size: 14px;
                  padding: 5px;
                }
              }
            `,document.head.appendChild(a)});const r=document.createElement("div");r.className="grid grid-cols-1";const s=document.createElement("input");s.className="rounded-[3px] ",s.type="file",s.name="file",s.id="fileInput",s.style.border="1px solid #6b7280",r.appendChild(s);const R=document.createElement("div");R.className="lg:text-base md:text-sm text-xs text-[#31393C] opacity-50",R.textContent="Upload Resume*",r.appendChild(R),E.appendChild(r);const X=document.createElement("style");X.textContent=`
        @media (max-width: 390px) {
           input[type="file"] {
            font-size: 14px;         
            }
        }
        `,document.head.appendChild(X);const k=document.createElement("button");k.className="w-44 bg-[#3E96F4] rounded text-white md:text-sm text-sm lg:text-base font-semibold mt-5",k.type="submit",k.textContent="Submit Application",k.style.height="2.50rem",x.appendChild(E),x.appendChild(k),e.appendChild(u),e.appendChild(b),e.appendChild(h),e.appendChild(d),e.appendChild(P),e.appendChild(C),e.appendChild(q),e.appendChild(A),e.appendChild(N),e.appendChild(x),document.getElementById("job").appendChild(e);const te=document.getElementById("closePopup");document.getElementById("popup"),te.addEventListener("click",()=>{document.body.removeChild(p),e.style.display="none"});var ne=document.getElementById("job_application_form");ne.addEventListener("submit",ee);var le=document.getElementById("fileInput");le.addEventListener("change",i=>{ae()});function ae(){var i=document.getElementById("fileInput"),t=i.value,a=/(\.jpg|\.pdf|\.png|\.docx|\.txt)$/i;if(!a.exec(t))return alert("Invalid file type only allow .jpg | .pdf | .png | .docx | .txt"),i.value="",!1}}).catch(o=>{console.error(o)})}),$.appendChild(w),L.appendChild($),document.getElementById("job").appendChild(L);function I(n){n.style.borderColor="red"}function j(n){n.addEventListener("focus",()=>{n.style.borderColor=""})}function ee(n){n.preventDefault();const o=document.querySelector('input[name="name"]'),l=document.querySelector('input[name="email"]'),p=document.querySelector('input[name="phone"]'),e=document.querySelector('input[type="file"]');j(o),j(l),j(p),j(e);const u=o.value.trim(),g=l.value.trim(),b=p.value.trim(),h=e.value.trim();if(u===""&&I(o),g===""&&I(l),b===""&&I(p),h===""&&I(e),u===""||g===""||b===""||h==="")return;const v=document.getElementById("fileInput"),_=v.files[0],d=new XMLHttpRequest,P="https://sanskar.frappe.cloud/api/method/upload_file";d.open("POST",P,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status===200){var q=JSON.parse(d.response),A=q.message.file_url;const J=new FormData(n.target),r=Object.fromEntries(J.entries());J.set("data",JSON.stringify(r));var N=r.fullname,x=r.email,E=r.phone;fetch("https://sanskar.frappe.cloud/api/resource/Job Applicant",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job_title:c.name,applicant_name:N,email_id:x,phone_number:E,resume_attachment:A})}).then(s=>{s.status===200?window.location.href="/thank-you":alert("failed")}).catch(s=>{console.log(s)})}else I(v)},d.onerror=function(){alert("An error occurred while uploading the file.")};const C=new FormData;C.append("file",_),d.send(C),n.preventDefault()}});
