import"https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js";import"./hoisted.9c2bd4a0.js";var se=document.getElementById("scrollButton"),O=document.getElementById("job");const ie=window.location.href,ce=/[?&]s=([^&#]*)/,H=ce.exec(ie);H&&H[1]&&(H[1],O.scrollIntoView({behavior:"smooth"}));se.addEventListener("click",function(){O.scrollIntoView({behavior:"smooth"})});var re=document.getElementById("scrollButton1");re.addEventListener("click",function(){O.scrollIntoView({behavior:"smooth"})});const pe=document.querySelector(".c_slider"),U=document.querySelector(".c_slides"),me=document.querySelector("#prev"),ue=document.querySelector("#next");let m=0;const ge=pe.clientWidth;let Q;const Y=c=>{U.style.transform=`translateX(-${ge*c}px)`},Z=()=>{m++,m>=U.children.length&&(m=0),Y(m)},he=()=>{m--,m<0&&(m=U.children.length-1),Y(m)},xe=()=>{Q=setInterval(Z,3e3)},ee=()=>{clearInterval(Q)};ue.addEventListener("click",()=>{Z(),ee()});me.addEventListener("click",()=>{he(),ee()});xe();document.addEventListener("DOMContentLoaded",function(){new Swiper(".swiper-container",{loop:!0,slidesPerView:1,spaceBetween:0,autoplay:{delay:3e3},navigation:{nextEl:".next-button",prevEl:".prev-button"},breakpoints:{640:{slidesPerView:1.5,centeredSlides:!0},768:{centeredSlides:!1,slidesPerView:2},1024:{centeredSlides:!1,slidesPerView:2},1280:{centeredSlides:!1,slidesPerView:3}}})});const fe=await fetch('https://sanskar.frappe.cloud/api/resource/Job Opening?filters=[["publish" , "=", 1]]&fields=["name", "job_title", "designation", "requiered_employee", "location", "requiered_experience"]'),be=await fe.json(),te=be.data;if(te==""){var M=document.createElement("div");M.classList.add("font-semibold","text-center"),M.textContent="Currently No Any Job Opening.",document.getElementById("job").appendChild(M)}te.forEach(c=>{const S=document.createElement("div");S.classList.add("flex","flex-wrap","justify-between","items-center","border","border-[#B5CBE3]","text-sm","md:text-sm","lg:text-base","rounded","bg-white","p-5","mx-auto","md:mx-20","lg:mx-40","mb-5");const B=document.createElement("div");B.classList.add("w-full","lg:w-9/12");const T=document.createElement("div");T.classList.add("font-semibold","mb-2","md:mb-3","lg:mb-1"),T.textContent=c.job_title||"",B.appendChild(T);const w=document.createElement("div");w.classList.add("flex","flex-wrap","gap-2","md:gap-3","lg:gap-5","mt-3","md:mt-auto");function R(n,a){const l=document.createElement("img");return l.src=n,l.alt=a,l}const D=document.createElement("div");D.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),D.appendChild(R("https://sanskartechnolab.com/files/c_user.svg","user"));const W=document.createElement("p");W.textContent=c.requiered_employee||0,D.appendChild(W),w.appendChild(D);const j=document.createElement("div");j.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),j.appendChild(R("https://sanskartechnolab.com/files/c_job.svg","job"));const X=document.createElement("p");X.textContent=c.requiered_experience||0,j.appendChild(X),w.appendChild(j);const P=document.createElement("div");P.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),P.appendChild(R("https://sanskartechnolab.com/files/c_map.svg","map"));const G=document.createElement("p");G.textContent=c.location||"unknown",P.appendChild(G),w.appendChild(P),B.appendChild(w),S.appendChild(B);const $=document.createElement("div");$.classList.add("flex","justify-between","bg-[#3E96F4]","rounded-lg","px-3","md:px-3","lg:px-5","py-2","md:py-2","lg:py-3","lg:mt-auto","mt-3");const I=document.createElement("button");I.classList.add("text-white","md:text-base","font-semibold","font-inter","openPopup","text-sm"),I.setAttribute("id",`openPopup${c.name}`),I.textContent="Apply Now",I.addEventListener("click",()=>{var n=document.getElementById("popup");n&&n.remove(),fetch(`https://sanskar.frappe.cloud/api/method/get_job_detail?name=${c.name}`).then(a=>a.json()).then(a=>{const l=a.data,p=document.createElement("div");p.className="fixed inset-0 z-0 backdrop-blur-sm",p.style.backgroundColor="rgba(0, 0, 0, 0.3)";const e=document.createElement("div");e.id="popup",e.className="absolute card-size z-10 text-[#31393C] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-[10px] p-6 shadow-md",window.innerWidth<=350?e.classList.add("w-60"):window.innerWidth<=768?e.classList.add("w-80"):e.classList.add("w-1/2"),document.body.appendChild(p),document.body.appendChild(e);const u=document.createElement("div");u.className="absolute top-4 right-4",u.id="closePopup";const g=document.createElement("img");g.src="https://sanskartechnolab.com/files/popup_close_btn.svg",g.alt="close",g.className="cursor-pointer",u.appendChild(g);const b=document.createElement("p");b.className="text-lg md:text-xl lg:text-2xl !leading-[36px] md:!leading-[40px] lg:!leading-[44px] font-semibold",b.textContent=l.job_title;const h=document.createElement("div");h.className="flex flex-wrap";const v=document.createElement("p");v.className="text-base md:text-lg lg:text-xl !leading-7 md:!leading-8 lg:!leading-9",v.innerHTML=`Experience: <strong>${l.requiered_experience||"0"}</strong> |`;const N=document.createElement("p");N.className="text-base md:text-lg lg:text-xl !leading-7 md:!leading-8 lg:!leading-9",N.innerHTML=`Location: <strong>${l.location||"unknown"}</strong>`,h.appendChild(v),h.appendChild(N);const d=document.createElement("div");d.className="mt-5 font-semibold text-xs md:text-sm lg:text-base",d.textContent="Skills Required:";const V=document.createElement("div");l.skill.forEach(i=>{const t=document.createElement("div");t.className="flex gap-2";const o=document.createElement("img");o.src="https://sanskartechnolab.com/files/correct.svg",o.alt="correct";const f=document.createElement("p");f.className="text-xs md:text-sm lg:text-base !leading-6 md:!leading-7 lg:!leading-8",f.textContent=i.skill,t.appendChild(o),t.appendChild(f),V.appendChild(t)});const y=document.createElement("div");y.className="mt-5 font-semibold text-xs md:text-sm lg:text-base",y.textContent="Responsibilities and Duties:";const A=document.createElement("div");l.responsibilities_and_duties.forEach(i=>{const t=document.createElement("div");t.className="flex gap-2";const o=document.createElement("img");o.src="https://sanskartechnolab.com/files/correct.svg",o.alt="correct";const f=document.createElement("p");f.className="text-xs md:text-sm lg:text-base !leading-6 md:!leading-7 lg:!leading-8",f.textContent=i.responsibilities_and_dutie,t.appendChild(o),t.appendChild(f),A.appendChild(t)});const F=document.createElement("div");F.className="w-full border border-[#D9D9D9] my-5";const L=document.createElement("p");L.className="text-lg md:text-xl lg:text-2xl !leading-[36px] md:!leading-[40px] lg:!leading-[44px] font-semibold",L.textContent="Apply for this job";const x=document.createElement("form");x.id="job_application_form",x.className="mt-5";const E=document.createElement("div");E.className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-3 lg:gap-5",["Name","Email","Phone"].forEach(i=>{const t=document.createElement("input");t.className="rounded-[3px] md:h-10 lg:h-auto",t.type="text",t.placeholder=i+"*",t.name=i.toLowerCase().replace(/\s+/g,"_"),E.appendChild(t);const o=document.createElement("style");o.textContent=`
              @media (max-width: 390px) {
                input[name="${t.name}"] {
                  font-size: 14px;
                  padding: 5px;
                }
              }
            `,document.head.appendChild(o)});const r=document.createElement("div");r.className="grid grid-cols-1";const s=document.createElement("input");s.className="rounded-[3px] ",s.type="file",s.name="file",s.id="fileInput",s.style.border="1px solid #6b7280",r.appendChild(s);const z=document.createElement("div");z.className="lg:text-base md:text-sm text-xs text-[#31393C] opacity-50",z.textContent="Upload Resume*",r.appendChild(z),E.appendChild(r);const K=document.createElement("style");K.textContent=`
        @media (max-width: 390px) {
           input[type="file"] {
            font-size: 14px;         
            }
        }
        `,document.head.appendChild(K);const k=document.createElement("button");k.className="w-44 bg-[#3E96F4] rounded text-white md:text-sm text-sm lg:text-base font-semibold mt-5",k.type="submit",k.textContent="Submit Application",k.style.height="2.50rem",x.appendChild(E),x.appendChild(k),e.appendChild(u),e.appendChild(b),e.appendChild(h),e.appendChild(d),e.appendChild(V),e.appendChild(y),e.appendChild(A),e.appendChild(F),e.appendChild(L),e.appendChild(x),document.getElementById("job").appendChild(e);const le=document.getElementById("closePopup");document.getElementById("popup"),le.addEventListener("click",()=>{document.body.removeChild(p),e.style.display="none"});var oe=document.getElementById("job_application_form");oe.addEventListener("submit",ne);var ae=document.getElementById("fileInput");ae.addEventListener("change",i=>{de()});function de(){var i=document.getElementById("fileInput"),t=i.value,o=/(\.jpg|\.pdf|\.png|\.docx|\.txt)$/i;if(!o.exec(t))return alert("Invalid file type only allow .jpg | .pdf | .png | .docx | .txt"),i.value="",!1}}).catch(a=>{console.error(a)})}),$.appendChild(I),S.appendChild($),document.getElementById("job").appendChild(S);function _(n){n.style.borderColor="red"}function q(n){n.addEventListener("focus",()=>{n.style.borderColor=""})}function ne(n){n.preventDefault(),ve();const a=document.querySelector('input[name="name"]'),l=document.querySelector('input[name="email"]'),p=document.querySelector('input[name="phone"]'),e=document.querySelector('input[type="file"]');q(a),q(l),q(p),q(e);const u=a.value.trim(),g=l.value.trim(),b=p.value.trim(),h=e.value.trim();if(u===""&&_(a),g===""&&_(l),b===""&&_(p),h===""&&_(e),u===""||g===""||b===""||h===""){C();return}const v=document.getElementById("fileInput"),N=v.files[0],d=new XMLHttpRequest,V="https://sanskar.frappe.cloud/api/method/upload_file";d.open("POST",V,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status===200){var A=JSON.parse(d.response),F=A.message.file_url;const J=new FormData(n.target),r=Object.fromEntries(J.entries());J.set("data",JSON.stringify(r));var L=r.fullname,x=r.email,E=r.phone;fetch("https://sanskar.frappe.cloud/api/resource/Job Applicant",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job_title:c.name,applicant_name:L,email_id:x,phone_number:E,resume_attachment:F})}).then(s=>{s.status===200?(C(),window.location.href="/thank-you"):(C(),alert("failed"))}).catch(s=>{C(),console.log(s)})}else C(),_(v)},d.onerror=function(){C(),alert("An error occurred while uploading the file.")};const y=new FormData;y.append("file",N),d.send(y),n.preventDefault()}});function ve(){document.body.style.pointerEvents="none",document.body.style.opacity="0.5"}function C(){document.body.style.pointerEvents="auto",document.body.style.opacity="1"}
