import"https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js";(function(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var s=t.getElementsByTagName(o)[0],a=t.createElement(o),i=n!="dataLayer"?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+i,s.parentNode.insertBefore(a,s)})(window,document,"script","dataLayer","GTM-TWGDJ9VQ");const H=document.querySelectorAll("button.menu");H.forEach(e=>{e.addEventListener("click",()=>{var t=document.getElementById("menu");t.classList.toggle("!block");var t=document.getElementById("open-menu");t.classList.toggle("!hidden");var t=document.getElementById("close-menu");t.classList.toggle("!block")})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#main-menu > li").forEach(function(t){const o=t.querySelector(".sub-menu");let n;o&&(t.addEventListener("mouseenter",function(){clearTimeout(n),o.style.display="block"}),t.addEventListener("mouseleave",function(){n=setTimeout(function(){o.style.display="none"},300)}))})});var _=window.location.pathname,W="/contact-us",Y="/contact-us/",q="/thank-you",G="/thank-you/",z="/sitemap",U="/sitemap/";if(_===W||_===q||_===z||_===Y||_===G||_===U){var P=document.getElementById("section");P.classList.add("!hidden")}else{var P=document.getElementById("section");P.classList.remove("!hidden")}function $(){const e=new Date;e.setDate(e.getDate()+1),document.cookie=`cookieConsent=accepted; expires=${e.toUTCString()}; path=/`;var t=document.getElementById("cookies-popup");t.classList.add("hidden")}var V=document.getElementById("accept_button");V.addEventListener("click",$);const J=document.cookie.includes("cookieConsent=accepted"),Q=document.cookie.includes("cookieConsent=rejected");if(J||Q){var K=document.getElementById("cookies-popup");K.classList.add("hidden")}else{var X=document.getElementById("s_top");X.classList.add("!bottom-28","md:!bottom-10")}var Z=document.getElementById("close");Z.addEventListener("click",ee);function ee(){const e=new Date;e.setDate(e.getDate()+1),document.cookie=`cookieConsent=rejected; expires=${e.toUTCString()}; path=/`;var t=document.getElementById("cookies-popup");t.classList.add("hidden")}function te(){var e=document.getElementById("s_top");window.scrollY>300?e.style.display="block":e.style.display="none"}var ne=document.getElementById("s_top");ne.addEventListener("click",oe);function oe(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",te);var D=window.localStorage.getItem("chat_token");D||window.localStorage.setItem("chat_token",Math.random().toString(36).substr(2));const T=document.getElementById("messages");T.scrollTop=T.scrollHeight;const A=document.getElementById("chat_icon"),N=document.getElementById("chat_popup"),se=document.getElementById("close_btn"),m=document.getElementById("chat_message");var ae=document.getElementById("chat_form"),d=[],f=[],w=[],C=[],B=0;function M(e,t,o){x();const n=document.getElementById(e),r=document.createElement("div");r.className=t;const s=document.createElement("p");s.className="text-white !text-left bg-[#3E96F4] text-xs lg:text-base md:text-sm p-4 py-2 rounded-l-[10px] rounded-b-[10px] inline-block",s.textContent=o;const a=document.createElement("div");a.className="flex items-center justify-end";const i=document.createElement("p");i.className="text-[#9A9A9A] text-xs lg:text-sm md:text-xs",i.textContent=j();const b=document.createElement("img");b.src="https://sanskartechnolab.com/files/double_right.svg",b.alt="single tick",b.className="w-4 h-4 ml-2",a.appendChild(i),a.appendChild(b),r.appendChild(s),r.appendChild(a),n.appendChild(r),x()}function c(e,t,o,n=[],r="grid justify-items-start",s=[]){x(),fe();const a=document.getElementById(e),i=document.createElement("div");i.className=t;const b=document.createElement("p");b.className="text-[#31393C] bg-[#F6F9FB] text-xs lg:text-base md:text-sm p-4 py-2 rounded-r-[10px] rounded-b-[10px] inline-block",b.textContent=o;const S=document.createElement("span");S.className=r,n.length===0||n.forEach(u=>{const l=document.createElement("button");l.className=u.button_class,l.id=u.button_id,l.textContent=u.button_label,l.addEventListener("click",u.button_click_action),S.appendChild(l)});const k=document.createElement("span"),y=document.createElement("button");if(y.textContent="Show More",y.className="text-[#3E96F4] text-xs lg:text-base md:text-sm ml-5",s.length!==0){k.className="grid grid-cols-1 justify-items-start mt-3",document.getElementById("selectedValues");let u=5;y.addEventListener("click",()=>{const l=s.slice(u,u+5);l.forEach(p=>{const g=document.createElement("div");g.className="flex gap-2 items-center ml-5 text-[#31393C] text-xs lg:text-base md:text-sm";const h=document.createElement("input");h.type="checkbox",h.value=p,h.id=p;const v=document.createElement("label");v.htmlFor=p.value,v.appendChild(document.createTextNode(p)),g.appendChild(h),g.appendChild(v),k.appendChild(g),x()}),u+=l.length,u>=s.length&&(y.style.display="none")});for(let l=0;l<u;l++){const p=s[l],g=document.createElement("div");g.className="flex gap-2 items-center ml-5 text-[#31393C] text-xs lg:text-base md:text-sm";const h=document.createElement("input");h.type="checkbox",h.value=p,h.id=p;const v=document.createElement("label");v.htmlFor=p.value,v.appendChild(document.createTextNode(p)),g.appendChild(h),g.appendChild(v),k.appendChild(g)}x()}const L=document.createElement("span");L.className="relative";const E=document.createElement("p");o.length<5?E.className="text-[#9A9A9A] lg:text-sm md:text-xs text-xs absolute -right-8 whitespace-nowrap overflow-visible":o.length<=10?E.className="text-[#9A9A9A] lg:text-sm md:text-xs text-xs absolute -right-20 whitespace-nowrap overflow-visible":E.className="text-[#9A9A9A] lg:text-sm md:text-xs text-xs absolute right-0 whitespace-nowrap overflow-visible",E.textContent=j(),L.appendChild(E),i.appendChild(b),i.appendChild(k),s.length!==0&&(i.appendChild(y),i.appendChild(document.createElement("br"))),i.appendChild(S),a.appendChild(i),x()}function R(e=!1){x();var t=[{button_id:"erpnext",button_label:"ERPNext",button_click_action:F,button_class:"border border-blue-500 text-blue-500 px-3 text-sm md:text-base lg:text-lg rounded-lg mt-1 ml-5"},{button_id:"service_now",button_label:"Service Now",button_click_action:O,button_class:"border border-blue-500 text-blue-500 px-3 text-sm md:text-base lg:text-lg rounded-lg mt-1 ml-5"},{button_id:"customization",button_label:"Other",button_click_action:de,button_class:"border border-blue-500 text-blue-500 px-3 text-sm md:text-base lg:text-lg rounded-lg mt-1 ml-5"}],o="Hello, How Are You ?",n="What Are You Looking For ?";e&&c("messages","px-2 pt-2 mr-5 mt-5",o),c("messages","px-2 pt-2 mr-5",n,t)}function ce(e){e.preventDefault();const t=new FormData(e.target),o=Object.fromEntries(t.entries());t.set("data",JSON.stringify(o));var n=o.chat_message;if(n==="")m.classList.add("!border","!border-red-500"),m.classList.remove("border-none");else{var r=document.getElementById("messages");const a=r.lastElementChild.firstElementChild.innerHTML;if(console.log("questions ",a),a==="Please Give Some Details About Your Requirement."){w.push({question:a,answer:n}),m.value="",M("messages","px-2 pt-2 text-right ml-5 mt-5",n);var s="Please provide your contact information so we can reach out to you.";c("messages","px-2 pt-2 mr-5 mt-5 -mb-3",s,[],"",[]),I()}else if(a==="Please provide information about your customization."){w.push({question:a,answer:n}),m.value="",M("messages","px-2 pt-2 text-right ml-5 mt-5",n);var s="Please provide your contact information so we can reach out to you.";c("messages","px-2 pt-2 mr-5 mt-5 -mb-3",s,[],"",[]),I()}else if(a==="What is Your Name ?")C.push({name:n}),m.value="",M("messages","px-2 pt-2 text-right ml-5 mt-5",n),ue();else if(a==="What is Your Email Address ?")/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?(C.push({email:n}),m.value="",M("messages","px-2 pt-2 text-right ml-5 mt-5",n),pe()):(m.classList.add("!border","!border-red-500"),m.classList.remove("border-none"));else{m.value="";var s="Sorry I Can`t Understand You. Please Enter / Select Currect Value.";c("messages","px-2 pt-2 mr-5 mt-5",s,[],"",[]),R()}}}function F(){f=[],f.push("ERPNext");var e=[{button_id:"e_module_check_confirm",button_label:"Confirm",button_click_action:re,button_class:"border border-blue-500 text-blue-500 px-3 text-sm md:text-base lg:text-lg rounded-lg mt-1 ml-5"},{button_id:"erpnext_custom",button_label:"Customazation",button_click_action:ie,button_class:"border border-blue-500 text-blue-500 px-3 text-sm md:text-base lg:text-lg rounded-lg mt-1 ml-5"}],t=["Sales","Purchase","Inventory","Accounts","Human Resources (HR)","Projects","CRM","Manufacturing","Website","Support","Asset Management","Healthcare","LMS (Learning Management System)"],o="Which ERPNext Module You Want To Implement ?";c("messages","px-2 pt-2 mr-5 mt-5",o,e,"",t)}function re(){if(d=[],["Sales","Purchase","Inventory","Accounts","Human Resources (HR)","Projects","CRM","Manufacturing","Website","Support","Asset Management","Healthcare","LMS (Learning Management System)"].forEach(o=>{const n=document.getElementById(o);n&&n.checked&&d.push({module_name:n.value})}),d.length===0){var t="Please Select Module For ERPNext.";c("messages","px-2 pt-2 mr-5 mt-5",t,[],"",[]),F()}else{var t="Please provide your contact information so we can reach out to you.";c("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[]),I()}}function ie(){B=1,d=[],["Sales","Purchase","Inventory","Accounts","Human Resources (HR)","Projects","CRM","Manufacturing","Website","Support","Asset Management","Healthcare","LMS (Learning Management System)"].forEach(o=>{const n=document.getElementById(o);n&&n.checked&&d.push({module_name:n.value})});var t="Please provide information about your customization.";c("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[])}function O(){f=[],f.push("Service Now");var e=[{button_id:"s_modeule_check_confirm",button_label:"Confirm",button_click_action:le,button_class:"border border-blue-500 text-blue-500 px-3 text-sm md:text-base lg:text-lg rounded-lg mt-1 ml-5"},{button_id:"service_now_custom",button_label:"Customization",button_click_action:me,button_class:"border border-blue-500 text-blue-500 px-3 text-sm md:text-base lg:text-lg rounded-lg mt-1 ml-5"}],t=["Incident Management","Problem Management","Service Catalog","Asset Management","Service Portal","CMDB (Configuration Management Database)","Security Incident Response","HR Service Delivery","Customer Service Management (CSM)","IT Operations Management (ITOM)","IT Business Management (ITBM)","GRC (Governance, Risk, and Compliance)","Performance Analytics","AI and Chatbots","Field Service Management","Financial Management","Vendor Risk Management","Project Portfolio Management (PPM)","Cloud Management","DevOps"],o="Which Service Module You Want To Implement ?";c("messages","px-2 pt-2 mr-5 mt-5",o,e,"",t)}function le(){d=[];var e=["Incident Management","Problem Management","Service Catalog","Asset Management","Service Portal","CMDB (Configuration Management Database)","Security Incident Response","HR Service Delivery","Customer Service Management (CSM)","IT Operations Management (ITOM)","IT Business Management (ITBM)","GRC (Governance, Risk, and Compliance)","Performance Analytics","AI and Chatbots","Field Service Management","Financial Management","Vendor Risk Management","Project Portfolio Management (PPM)","Cloud Management","DevOps"];if(e.forEach(o=>{const n=document.getElementById(o);n&&n.checked&&d.push({module_name:n.value})}),d.length===0){var t="Please Select Module For Service Now.";c("messages","px-2 pt-2 mr-5 mt-5",t,[],"",[]),O()}else{var t="Please provide your contact information so we can reach out to you.";c("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[]),I()}}function me(){B=1,d=[];var e=["Incident Management","Problem Management","Service Catalog","Asset Management","Service Portal","CMDB (Configuration Management Database)","Security Incident Response","HR Service Delivery","Customer Service Management (CSM)","IT Operations Management (ITOM)","IT Business Management (ITBM)","GRC (Governance, Risk, and Compliance)","Performance Analytics","AI and Chatbots","Field Service Management","Financial Management","Vendor Risk Management","Project Portfolio Management (PPM)","Cloud Management","DevOps"];e.forEach(o=>{const n=document.getElementById(o);n&&n.checked&&d.push({module_name:n.value})});var t="Please provide information about your customization.";c("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[])}function de(){f=[],f.push("Other");var e="Please Give Some Details About Your Requirement.";c("messages","px-2 pt-2 mr-5 mt-5",e,[],"",[])}function I(){var e="What is Your Name ?";c("messages","px-2 pt-2 mr-5 mt-5",e,[],"",[])}function ue(){var e="What is Your Email Address ?";c("messages","px-2 pt-2 mr-5 mt-5",e,[],"",[])}function pe(e){function t(){return fetch("https://api.ipify.org?format=json").then(o=>o.json()).then(o=>o.ip).catch(o=>(console.error("Error fetching IP address:",o),null))}t().then(o=>{let{browserName:n,device:r}=xe();console.log(n,r),o?fetch("https://sanskar.frappe.cloud/api/resource/Astro Site Chat",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:C[1].email,name1:C[0].name,technology:f[0],module:d,question_answer:w,token:D,is_owner:1,ip:o,browser_name:n,device:r,need_customization:B})}).then(s=>{if(s.status===200){var a="Thank you for providing your information. Our sales team will reach you soon at your email address. For any other details, you can reach us at info@sanskartechnolab.com.";c("messages","px-2 pt-2 mr-5 mt-5",a,[],"",[])}else alert("Failed")}).catch(s=>{console.log(s)}):alert("Failed to retrieve IP address")})}function ge(){N.classList.remove("hidden"),A.classList.add("hidden"),R(!0)}function he(){N.classList.add("hidden"),A.classList.remove("hidden")}function be(){m.classList.remove("!border","!border-red-500")}function j(){const e=new Date;let t=e.getHours(),o=e.getMinutes();const n=t>=12?"PM":"AM";return t=t%12,t=t||12,o=String(o).padStart(2,"0"),`${t}:${o} ${n}`}function x(){const e=document.getElementById("messages");console.log("message scroll",e.scrollHeight),e.scrollTop=2e3}function ve(){return new Promise((e,t)=>{fetch("https://api.ipify.org?format=json").then(o=>o.json()).then(o=>{const n=o.ip;e(n)}).catch(o=>{console.error("Error fetching IP address:",o),t(o)})})}function xe(){const e=navigator.userAgent;var t="Unknown";e.indexOf("Chrome")!==-1?t="Google Chrome":e.indexOf("Firefox")!==-1?t="Mozilla Firefox":e.indexOf("Safari")!==-1?t="Apple Safari":e.indexOf("Edg")!==-1?t="Microsoft Edge":(e.indexOf("MSIE")!==-1||e.indexOf("Trident")!==-1)&&(t="Internet Explorer");const o=window.innerWidth;var n="Unknown";return o<=576?n="Mobile":o<=992?n="Tablet":o<=1200?n="Laptop":n="Desktop",{browserName:t,device:n}}ve().then(e=>{}).catch(e=>{console.error("Error:",e)});function fe(){const e=document.getElementById("messages");if(e){const t=e.querySelectorAll('input[type="checkbox"]'),o=e.querySelectorAll("button");if(t.length>0)for(let n=0;n<t.length;n++)t[n].disabled=!0;if(o.length>0)for(let n=0;n<o.length;n++)o[n].disabled=!0}}m.addEventListener("focus",be);ae.addEventListener("submit",ce);A.addEventListener("click",ge);se.addEventListener("click",he);
