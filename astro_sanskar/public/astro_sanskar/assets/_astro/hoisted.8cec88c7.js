import"./hoisted.fb0f5850.js";let y;y=window.location.pathname.slice(1);console.log("Current URL:"+y);document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});var I=document.getElementById("talk_form");I.addEventListener("submit",A);var i=document.querySelector('input[name="healthcareemail"]');i.addEventListener("blur",P);function P(){const e=i.value.trim(),t=i.nextElementSibling;if(e===""){x(t),i.style.borderColor="";return}_(e)?(x(t),i.style.borderColor=""):(h(i),k(t,"Please enter a valid email address."))}function _(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function k(e,t){!e||!e.classList.contains("error-message")?(e=document.createElement("p"),e.textContent=t,e.classList.add("error-message"),e.style.color="red",e.style.fontSize="0.8rem",e.style.marginTop="0.2rem",e.style.marginBottom="0",i.parentNode.insertBefore(e,i.nextSibling)):e.textContent=t}function x(e){e&&e.classList.contains("error-message")&&e.remove()}const O="c9025a4d07020e1",L="78509ec3e33e18e";function h(e){e.style.borderColor!=="red"?e.style.borderColor="red":e.style.borderColor=""}function p(e){e.addEventListener("focus",()=>{e.style.borderColor=""})}function A(e){e.preventDefault();const t=e.target,n=t.querySelector('input[name="healthcarename"]'),o=t.querySelector('input[name="healthcareemail"]'),l=document.querySelector('textarea[name="healthcaremessage"]'),c=document.querySelector('input[name="healthcarephone"]'),d=n.value.trim(),u=o.value.trim(),f=l.value.trim();if(c.value.trim(),p(n),p(o),p(l),p(c),d===""&&h(n),u===""&&h(o),f===""&&h(l),d===""||u===""||f==="")return;new URLSearchParams(window.location.search).get("page");const s=new FormData(e.target);console.log("formData: ",s);const r=Object.fromEntries(s.entries());s.set("data",JSON.stringify(r));var g=r.healthcarename,b=r.healthcareemail,w=r.healthcarephone,S=r.healthcaremessage;function E(){return fetch("https://api.ipify.org?format=json").then(a=>a.json()).then(a=>a.ip).catch(a=>(console.error("Error fetching IP address:",a),null))}E().then(a=>{let{browserName:q,device:C}=D();fetch("https://sanskar.frappe.cloud/api/resource/Enquiry",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`token ${O}:${L}`},body:JSON.stringify({first_name:g,email:b,phone:w,message:S,enquiry_source:"Website Enquiry",query_type:"Developer Interview",ip:a,browser_name:q,device:C,demo_for:y})}).then(m=>{m.status===200?window.location.href="/thank-you":(V(g,b,w,S,"Website Enquiry",y,"Developer Interview",a,q,C,m),alert("Failed to submit data. Please try after some time."))}).catch(m=>{console.log(m)})})}j().then(e=>{console.log("Received IP Address:",e)}).catch(e=>{console.error("Error:",e)});function j(){return new Promise((e,t)=>{fetch("https://api.ipify.org?format=json").then(n=>n.json()).then(n=>{const o=n.ip;e(o)}).catch(n=>{console.error("Error fetching IP address:",n),t(n)})})}function D(){const e=navigator.userAgent;var t="Unknown";e.indexOf("Chrome")!==-1?t="Google Chrome":e.indexOf("Firefox")!==-1?t="Mozilla Firefox":e.indexOf("Safari")!==-1?t="Apple Safari":e.indexOf("Edg")!==-1?t="Microsoft Edge":(e.indexOf("MSIE")!==-1||e.indexOf("Trident")!==-1)&&(t="Internet Explorer");const n=window.innerWidth;var o="Unknown";return n<=576?o="Mobile":n<=992?o="Tablet":n<=1200?o="Laptop":o="Desktop",{browserName:t,device:o}}function V(e="",t="",n="",o="",l="",c="",d="",u="",f="",v="",s=""){console.log("sending email notification..."),fetch("https://sanskartechnolab.com/api/method/astro_sanskar.api.send_form_failed_notification",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({full_name:e,email:t,phone:n,message:o,enquiry_source:"Website Enquiry",demoForValue:c,queryTypeValue:d,ip:u,browser_name:f,device:v,response:s,page_name:"Hire Frappe Developer"})}).then(r=>{r.status===200?console.log("email notification sent."):(console.log("failed to send email notification",r),alert("We are unable to process your request. please send your requirements on info@sanskartechnolab.com"))}).catch(r=>{console.log("error",r)})}document.addEventListener("DOMContentLoaded",function(){console.log("object"),new Swiper(".swiper-container",{loop:!0,slidesPerView:1,spaceBetween:0,autoplay:{delay:3e3},navigation:{nextEl:".next-button",prevEl:".prev-button"},breakpoints:{640:{slidesPerView:1,centeredSlides:!0},768:{centeredSlides:!0,slidesPerView:1},1024:{centeredSlides:!0,slidesPerView:1}}})});
