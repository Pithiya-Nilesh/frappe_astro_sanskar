import"./hoisted.fb0f5850.js";var ge=document.getElementById("scrollButton"),ee=document.getElementById("job");const xe=window.location.href,be=/[?&]s=([^&#]*)/,Q=be.exec(xe);Q&&Q[1]&&(Q[1],ee.scrollIntoView({behavior:"smooth"}));ge.addEventListener("click",function(){ee.scrollIntoView({behavior:"smooth"})});var ve=document.getElementById("scrollButton1");ve.addEventListener("click",function(){ee.scrollIntoView({behavior:"smooth"})});const ye=document.querySelector(".c_slider"),te=document.querySelector(".c_slides"),Ce=document.querySelector("#prev"),Ee=document.querySelector("#next");let v=0;const we=ye.clientWidth;let ae;const le=t=>{te.style.transform=`translateX(-${we*t}px)`},ie=()=>{v++,v>=te.children.length&&(v=0),le(v)},Ie=()=>{v--,v<0&&(v=te.children.length-1),le(v)},_e=()=>{ae=setInterval(ie,3e3)},se=()=>{clearInterval(ae)};Ee.addEventListener("click",()=>{ie(),se()});Ce.addEventListener("click",()=>{Ie(),se()});_e();document.addEventListener("DOMContentLoaded",function(){new Swiper(".swiper-container",{loop:!0,slidesPerView:1,spaceBetween:0,autoplay:{delay:3e3},navigation:{nextEl:".next-button",prevEl:".prev-button"},breakpoints:{640:{slidesPerView:1.5,centeredSlides:!0},768:{centeredSlides:!1,slidesPerView:2},1024:{centeredSlides:!1,slidesPerView:2},1280:{centeredSlides:!1,slidesPerView:3}}})});const Le=await fetch('https://sanskar.frappe.cloud/api/resource/Job Opening?filters=[["publish" , "=", 1]]&fields=["name", "job_title", "designation", "requiered_employee", "location", "requiered_experience"]'),Ne=await Le.json(),de=Ne.data;if(de==""){var Y=document.createElement("div");Y.classList.add("font-semibold","text-center"),Y.textContent="Currently No Any Job Opening.",document.getElementById("job").appendChild(Y)}de.forEach(t=>{const l=document.createElement("div");l.classList.add("flex","flex-wrap","justify-between","items-center","border","border-[#B5CBE3]","text-sm","md:text-sm","lg:text-base","rounded","bg-white","p-5","mx-auto","md:mx-20","lg:mx-40","mb-5");const r=document.createElement("div");r.classList.add("w-full","lg:w-9/12");const d=document.createElement("div");d.classList.add("font-semibold","mb-2","md:mb-3","lg:mb-1"),d.textContent=t.job_title||"",r.appendChild(d);const y=document.createElement("div");y.classList.add("flex","flex-wrap","gap-2","md:gap-3","lg:gap-5","mt-3","md:mt-auto");function R(e,o){const i=document.createElement("img");return i.src=e,i.alt=o,i}const k=document.createElement("div");k.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),k.appendChild(R("https://sanskartechnolab.com/files/c_user.svg","user"));const J=document.createElement("p");J.textContent=t.requiered_employee||0,k.appendChild(J),y.appendChild(k);const B=document.createElement("div");B.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),B.appendChild(R("https://sanskartechnolab.com/files/c_job.svg","job"));const H=document.createElement("p");H.textContent=t.requiered_experience||0,B.appendChild(H),y.appendChild(B);const P=document.createElement("div");P.classList.add("flex","gap-1","md:gap-1","lg:gap-2","w-full","md:w-auto"),P.appendChild(R("https://sanskartechnolab.com/files/c_map.svg","map"));const G=document.createElement("p");G.textContent=t.location||"unknown",P.appendChild(G),y.appendChild(P),r.appendChild(y),l.appendChild(r);const m=document.createElement("div");m.classList.add("flex","justify-between","bg-[#3E96F4]","rounded-lg","px-3","md:px-3","lg:px-5","py-2","md:py-2","lg:py-3","lg:mt-auto","mt-3","hover:cursor-pointer");const X=document.createElement("button");X.classList.add("text-white","md:text-base","font-semibold","font-inter","openPopup","text-sm"),X.setAttribute("id",`openPopup${t.name}`),X.textContent="Apply Now",m.addEventListener("click",()=>{var e=document.getElementById("popup");e&&e.remove(),fetch(`https://sanskar.frappe.cloud/api/method/get_job_detail?name=${t.name}`).then(o=>o.json()).then(o=>{const i=o.data,f=document.createElement("div");f.className="fixed inset-0 z-0 backdrop-blur-sm",f.style.backgroundColor="rgba(0, 0, 0, 0.3)";const n=document.createElement("div");n.id="popup",n.className="absolute card-size z-10 text-[#31393C] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-[10px] p-6 shadow-md",window.innerWidth<=350?n.classList.add("w-60"):window.innerWidth<=768?n.classList.add("w-80"):n.classList.add("w-1/2"),document.body.appendChild(f),document.body.appendChild(n);const E=document.createElement("div");E.className="absolute top-4 right-4",E.id="closePopup";const w=document.createElement("img");w.src="https://sanskartechnolab.com/files/popup_close_btn.svg",w.alt="close",w.className="cursor-pointer",E.appendChild(w);const I=document.createElement("p");I.className="text-lg md:text-xl lg:text-2xl !leading-[36px] md:!leading-[40px] lg:!leading-[44px] font-semibold",I.textContent=i.job_title;const _=document.createElement("div");_.className="flex flex-wrap";const O=document.createElement("p");O.className="text-base md:text-lg lg:text-xl !leading-7 md:!leading-8 lg:!leading-9",O.innerHTML=`Experience: <strong>${i.requiered_experience||"0"}</strong> |`;const M=document.createElement("p");M.className="text-base md:text-lg lg:text-xl !leading-7 md:!leading-8 lg:!leading-9",M.innerHTML=`Location: <strong>${i.location||"unknown"}</strong>`,_.appendChild(O),_.appendChild(M);const j=document.createElement("div");j.className="mt-5 font-semibold text-xs md:text-sm lg:text-base",j.textContent="Skills Required:";const U=document.createElement("div");i.skill.forEach(p=>{const a=document.createElement("div");a.className="flex gap-2";const s=document.createElement("img");s.src="https://sanskartechnolab.com/files/correct.svg",s.alt="correct";const N=document.createElement("p");N.className="text-xs md:text-sm lg:text-base !leading-6 md:!leading-7 lg:!leading-8",N.textContent=p.skill,a.appendChild(s),a.appendChild(N),U.appendChild(a)});const D=document.createElement("div");D.className="mt-5 font-semibold text-xs md:text-sm lg:text-base",D.textContent="Responsibilities and Duties:";const W=document.createElement("div");i.responsibilities_and_duties.forEach(p=>{const a=document.createElement("div");a.className="flex gap-2";const s=document.createElement("img");s.src="https://sanskartechnolab.com/files/correct.svg",s.alt="correct";const N=document.createElement("p");N.className="text-xs md:text-sm lg:text-base !leading-6 md:!leading-7 lg:!leading-8",N.textContent=p.responsibilities_and_dutie,a.appendChild(s),a.appendChild(N),W.appendChild(a)});const K=document.createElement("div");K.className="w-full border border-[#D9D9D9] my-5";const c=document.createElement("p");c.className="text-lg md:text-xl lg:text-2xl !leading-[36px] md:!leading-[40px] lg:!leading-[44px] font-semibold",c.textContent="Apply for this job";const L=document.createElement("form");L.id="job_application_form",L.className="mt-5";const h=document.createElement("div");h.className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-3 lg:gap-5",["Name","Email","Phone"].forEach(p=>{const a=document.createElement("input");a.className="rounded-[3px] md:h-10 lg:h-auto",a.type="text",a.placeholder=p+"*",a.name=p.toLowerCase().replace(/\s+/g,"_"),h.appendChild(a);const s=document.createElement("style");s.textContent=`
              @media (max-width: 390px) {
                input[name="${a.name}"] {
                  font-size: 14px;
                  padding: 5px;
                }
              }
            `,document.head.appendChild(s)});const q=document.createElement("div");q.className="grid grid-cols-1";const g=document.createElement("input");g.className="rounded-[3px] ",g.type="file",g.name="file",g.id="fileInput",g.style.border="1px solid #6b7280",q.appendChild(g);const A=document.createElement("div");A.className="lg:text-base md:text-sm text-xs text-[#31393C] opacity-50",A.textContent="Upload Resume*",q.appendChild(A),h.appendChild(q);const $=document.createElement("style");$.textContent=`
        @media (max-width: 390px) {
           input[type="file"] {
            font-size: 14px;         
            }
        }
        `,document.head.appendChild($);const F=document.createElement("div");F.className="rounded-[3px] md:h-10 lg:h-auto",h.appendChild(F);const x=document.createElement("div");x.className="rounded-[3px] md:h-10 lg:h-auto",h.appendChild(x);const V="hidden-md";window.innerWidth<=1024&&(F.classList.add(V),x.classList.add(V));const z=document.createElement("style");z.textContent=`
  @media (max-width: 1024px) { /* Adjust the breakpoint as needed */
    .${V} {
      display: none !important; /* Use !important to ensure it takes precedence */
    }
  }
`,document.head.appendChild(z);const b=document.createElement("button");b.className="w-44 bg-[#3E96F4] rounded text-white md:text-sm text-sm lg:text-base font-semibold  mt-0 md:mt-2 2xl:mt-5",b.type="submit",b.textContent="Submit Application",b.style.height="2.50rem",L.appendChild(h),L.appendChild(b),n.appendChild(E),n.appendChild(I),n.appendChild(_),n.appendChild(j),n.appendChild(U),n.appendChild(D),n.appendChild(W),n.appendChild(K),n.appendChild(c),n.appendChild(L),document.getElementById("job").appendChild(n);const T=document.getElementById("closePopup");document.getElementById("popup"),T.addEventListener("click",()=>{document.body.removeChild(f),n.style.display="none"});var ue=document.getElementById("job_application_form");ue.addEventListener("submit",me);var fe=document.getElementById("fileInput");fe.addEventListener("change",p=>{he()});function he(){var p=document.getElementById("fileInput"),a=p.value,s=/(\.jpg|\.pdf|\.png|\.docx|\.txt)$/i;if(!s.exec(a))return alert("Invalid file type only allow .jpg | .pdf | .png | .docx | .txt"),p.value="",!1}}).catch(o=>{console.error(o)})}),m.appendChild(X),l.appendChild(m),document.getElementById("job").appendChild(l);var u=document.querySelector('input[name="email"]');console.log(u),u.addEventListener("blur",ce);function ce(){const e=u.value.trim(),o=u.nextElementSibling;if(e===""){ne(o),u.style.borderColor="";return}re(e)?(ne(o),u.style.borderColor=""):(C(u),pe(o,"Please enter a valid email address."))}function re(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function pe(e,o){!e||!e.classList.contains("error-message")?(e=document.createElement("p"),e.textContent=o,e.classList.add("error-message"),e.style.color="red",e.style.fontSize="0.8rem",e.style.marginTop="0.2rem",e.style.marginBottom="0",u.parentNode.insertBefore(e,u.nextSibling)):e.textContent=o}function ne(e){e&&e.classList.contains("error-message")&&e.remove()}function C(e){e.style.borderColor="red"}function Z(e){e.addEventListener("focus",()=>{e.style.borderColor=""})}function me(e){e.preventDefault(),Se();const o=document.querySelector('input[name="name"]'),i=document.querySelector('input[name="email"]'),f=document.querySelector('input[name="phone"]'),n=document.querySelector('input[type="file"]');Z(o),Z(i),Z(f),Z(n);const E=o.value.trim(),w=i.value.trim(),I=f.value.trim(),_=n.value.trim();E===""&&C(o),w===""&&C(i);const O=/^[6-9]\d{9}$/;if(I==="")C(f);else if(!O.test(I)){C(f),S();return}if(_===""&&C(n),E===""||w===""||I===""||_===""){S();return}const j=new URLSearchParams(window.location.search).get("page"),U=j||"",D=j?"Demo":"General",W=document.getElementById("fileInput"),K=W.files[0],c=new XMLHttpRequest,L="https://sanskar.frappe.cloud/api/method/upload_file";c.open("POST",L,!0),c.setRequestHeader("Accept","application/json"),c.onload=function(){if(c.status===200){var oe=JSON.parse(c.response),q=oe.message.file_url;const F=new FormData(e.target),x=Object.fromEntries(F.entries());F.set("data",JSON.stringify(x));var g=x.fullname,A=x.email,$=x.phone;Be().then(V=>{let{browserName:z,device:b}=ke();fetch("https://sanskar.frappe.cloud/api/resource/Job Applicant",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job_title:t.name,applicant_name:g,email_id:A,phone_number:$,resume_attachment:q,source:"Website Listing",demo_for:U,ip:V,browser_name:z,device:b,query_type:D})}).then(T=>{T.status===200?(S(),window.location.href="/thank-you"):(S(),Pe(t.name,g,A,$,"Website Enquiry",U,D,V,z,b,T),alert("failed"))}).catch(T=>{S(),console.log(T)})})}else S(),C(W)},c.onerror=function(){S(),alert("An error occurred while uploading the file.")};const h=new FormData;h.append("file",K),c.send(h),e.preventDefault()}});function Se(){document.body.style.pointerEvents="none",document.body.style.opacity="0.5"}function S(){document.body.style.pointerEvents="auto",document.body.style.opacity="1"}function ke(){const t=navigator.userAgent;var l="Unknown";t.indexOf("Chrome")!==-1?l="Google Chrome":t.indexOf("Firefox")!==-1?l="Mozilla Firefox":t.indexOf("Safari")!==-1?l="Apple Safari":t.indexOf("Edg")!==-1?l="Microsoft Edge":(t.indexOf("MSIE")!==-1||t.indexOf("Trident")!==-1)&&(l="Internet Explorer");const r=window.innerWidth;var d="Unknown";return r<=576?d="Mobile":r<=992?d="Tablet":r<=1200?d="Laptop":d="Desktop",{browserName:l,device:d}}function Be(){return fetch("https://api.ipify.org?format=json").then(t=>t.json()).then(t=>t.ip).catch(t=>(console.error("Error fetching IP address:",t),null))}function Pe(t="",l="",r="",d="",y="",R="",k="",J="",B="",H="",P="",G=""){console.log("sending email notification..."),fetch("https://sanskartechnolab.com/api/method/astro_sanskar.api.send_form_failed_notification",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job_title:t,full_name:l,email:r,phone:d,message:y,enquiry_source:"Website Enquiry",demoForValue:k,queryTypeValue:J,ip:B,browser_name:H,device:P,response:G,page_name:"Contact Us PopUp"})}).then(m=>{m.status===200?console.log("email notification sent."):(console.log("failed to send email notification",m),alert("We are unable to process your request. please send your requirements on info@sanskartechnolab.com"))}).catch(m=>{console.log("error",m)})}
