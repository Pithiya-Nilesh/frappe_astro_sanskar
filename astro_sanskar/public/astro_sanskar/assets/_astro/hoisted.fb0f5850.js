(function(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var a=t.getElementsByTagName(o)[0],s=t.createElement(o),c=n!="dataLayer"?"&l="+n:"";s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+r+c,a.parentNode.insertBefore(s,a)})(window,document,"script","dataLayer","GTM-TWGDJ9VQ");const ae=document.querySelectorAll("button.menu");ae.forEach(e=>{e.addEventListener("click",()=>{var t=document.getElementById("menu");t.classList.toggle("!block");var t=document.getElementById("open-menu");t.classList.toggle("!hidden");var t=document.getElementById("close-menu");t.classList.toggle("!block")})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#main-menu > li").forEach(function(t){const o=t.querySelector(".sub-menu");let n;o&&(t.addEventListener("mouseenter",function(){clearTimeout(n),o.style.display="block"}),t.addEventListener("mouseleave",function(){n=setTimeout(function(){o.style.display="none"},300)}))})});let l={menu:null,arrow:null,path:null,text:null,parent:null};function se(e,t,o,n,r=null){const a=t.classList.contains("hidden");if(l.menu&&l.menu!==t){let s=!1,c=t;for(;c;){if(c===l.menu){s=!0;break}c=c.parentElement}s||(l.menu.classList.add("hidden"),l.arrow.style.transform="rotate(0deg)",l.path.setAttribute("stroke","#B5CBE3"),l.text.style.color="#4D5F66",l.menu=null,l.arrow=null,l.path=null,l.text=null)}a?(t.classList.remove("hidden"),e.style.transform="rotate(180deg)",o.setAttribute("stroke","#3E96F4"),n.style.color="#3E96F4",l={menu:t,arrow:e,path:o,text:n,parent:r}):(e.style.transform="rotate(0deg)",t.classList.remove("group-hover:block"),t.classList.add("hidden"),o.setAttribute("stroke","#B5CBE3"),n.style.color="#4D5F66",l.menu=null,l.arrow=null,l.path=null,l.text=null,l.parent=null)}let ie=[{arrow:"erpnext_down",menu:"erpnext_Menu",path:"erpnext_down_path",element:"erpnext"},{arrow:"case_study_down",menu:"case_study_menu",path:"case_study_down_path",element:"casestudy"},{arrow:"hire_team_down",menu:"hire_team_menu",path:"hire_team_down_path",element:"hireteam"},{arrow:"company_down",menu:"company_menu",path:"company_down_path",element:"company"},{arrow:"overview_down",menu:"overview_menu",path:"overview_down_path",element:"overview"},{arrow:"solutions_down",menu:"solutions_menu",path:"solutions_down_path",element:"solutions"},{arrow:"integration_down",menu:"integration_menu",path:"integration_down_path",element:"integration"}];ie.forEach(({arrow:e,menu:t,path:o,element:n})=>{const r=document.getElementById(e),a=document.getElementById(t),s=document.getElementById(o),c=document.getElementById(n);r.addEventListener("click",()=>{se(r,a,s,c)})});var F=window.location.pathname,re="/contact-us",ce="/contact-us/",le="/thank-you",de="/thank-you/",me="/sitemap",ue="/sitemap/";if(F===re||F===le||F===me||F===ce||F===de||F===ue){var R=document.getElementById("section");R.classList.add("!hidden")}else{var R=document.getElementById("section");R.classList.remove("!hidden")}function pe(){const e=new Date;e.setDate(e.getDate()+1),document.cookie=`cookieConsent=accepted; expires=${e.toUTCString()}; path=/`;var t=document.getElementById("cookies-popup");t.classList.add("hidden");var o=document.getElementById("s_top");o.style.marginBottom="0";var n=document.getElementById("chat_icon");n.style.marginBottom="0",window.location.reload()}var he=document.getElementById("accept_button");he.addEventListener("click",pe);const ge=document.cookie.includes("cookieConsent=accepted"),fe=document.cookie.includes("cookieConsent=rejected");if(ge||fe){var be=document.getElementById("cookies-popup");be.classList.add("hidden")}else{var z=document.createElement("style"),ve=`
    @media (max-width: 280px){
      .custom-class {
      margin-bottom:8rem !important;
      }
      }

      @media (min-width: 281px) and (max-width: 434px){
      .custom-class {
      margin-bottom: 8rem !important;
      }
      }
 
      @media (min-width: 435px) and (max-width: 767px) {
      .custom-class {
      margin-bottom: 8rem !important;
      }
      }

      @media (min-width: 768px) and (max-width: 1024px) {
      .custom-class {
      margin-bottom: 7rem !important;
      }
      }

      @media (min-width:1025px){
      .custom-class {
      margin-bottom: 5rem !important; 
      }
      }
`;z.innerHTML=ve,document.head.appendChild(z);var ye=document.getElementById("s_top");ye.classList.add("custom-class");var xe=document.getElementById("chat_icon");xe.classList.add("custom-class")}var _e=document.getElementById("close");_e.addEventListener("click",we);function we(){const e=new Date;e.setDate(e.getDate()+1),document.cookie=`cookieConsent=rejected; expires=${e.toUTCString()}; path=/`;var t=document.getElementById("cookies-popup");t.classList.add("hidden");var o=document.getElementById("s_top");o.style.marginBottom="0";var n=document.getElementById("chat_icon");n.style.marginBottom="0",window.location.reload()}function Ee(){var e=document.getElementById("s_top");window.scrollY>300?e.style.display="block":e.style.display="none"}var ke=document.getElementById("s_top");ke.addEventListener("click",Se);function Se(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",Ee);var W=window.localStorage.getItem("chat_token");W||window.localStorage.setItem("chat_token",Math.random().toString(36).substr(2));const M=document.getElementById("messages");M.scrollTop=M.scrollHeight;const H=document.getElementById("chat_icon"),G=document.getElementById("chat_popup"),Ce=document.getElementById("close_btn"),i=document.getElementById("chat_message"),L=document.getElementById("send_button");var Ie=document.getElementById("chat_form");const V=document.body;var v=[],k=[],A=[],_=[],P=0;function E(e,t,o){I();const n=document.getElementById(e),r=document.createElement("div");r.className=t;const a=document.createElement("p");a.className="text-white !text-left bg-[#3E96F4] text-sm lg:text-base md:text-base p-4 py-2 rounded-l-[10px] rounded-b-[10px] inline-block",a.textContent=o;const s=document.createElement("div");s.className="flex items-center justify-end";const c=document.createElement("p");c.className="text-[#9A9A9A] text-sm lg:text-base md:text-base",c.textContent=Z();const f=document.createElement("img");f.src="https://sanskartechnolab.com/files/double_right.svg",f.alt="single tick",f.className="w-4 h-4 ml-2",s.appendChild(c),s.appendChild(f),r.appendChild(a),r.appendChild(s),n.appendChild(r),I(),i.placeholder="Please select from the options",i.disabled=!0,L.disabled=!0}async function d(e,t,o,n=[],r="flex flex-wrap justify-center gap-2",a=[],s=3e3,c=!0){I(),$e();const f=document.getElementById(e),b=document.createElement("div");b.className=t;const m=document.createElement("p");m.className="p-4",m.textContent="...",b.appendChild(m),f.appendChild(b),I(),m.style.animation="fadeInOut 1.5s infinite",await new Promise(p=>setTimeout(p,s)),m.className="text-[#31393C] bg-[#F6F9FB] text-sm lg:text-base md:text-base p-4 py-2 rounded-r-[10px] rounded-b-[10px] inline-block",m.style.animation="",m.innerHTML=o;const u=document.createElement("span");u.className=r,n.length===0||n.forEach(p=>{const h=document.createElement("button");h.className=p.button_class,h.id=p.button_id,h.textContent=p.button_label,h.addEventListener("click",p.button_click_action),u.appendChild(h)});const w=document.createElement("span"),S=document.createElement("button");if(S.textContent="Show More",S.className="text-[#3E96F4] text-sm lg:text-base md:text-base ml-5",a.length!==0){w.className="grid grid-cols-1 md:gap-auto gap-1 justify-items-start mt-3",document.getElementById("selectedValues");let p=5;S.addEventListener("click",()=>{const h=a.slice(p,p+5);h.forEach(y=>{const x=document.createElement("div");x.className="flex gap-2 items-center ml-5 text-[#31393C] text-sm lg:text-base md:text-base";const g=document.createElement("input");g.type="checkbox",g.value=y,g.id=y;const B=document.createElement("label");B.htmlFor=y,B.appendChild(document.createTextNode(y)),x.appendChild(g),x.appendChild(B),w.appendChild(x),I()}),p+=h.length,p>=a.length&&(S.style.display="none")});for(let h=0;h<p;h++){const y=a[h],x=document.createElement("div");x.className="flex gap-2 items-center ml-5 text-[#31393C] text-sm lg:text-base md:text-base";const g=document.createElement("input");g.type="checkbox",g.value=y,g.id=y;const B=document.createElement("label");B.htmlFor=y,B.appendChild(document.createTextNode(y)),x.appendChild(g),x.appendChild(B),w.appendChild(x)}I()}const O=document.createElement("span");O.className="relative";const C=document.createElement("p");o.length<5?C.className="text-[#9A9A9A] lg:text-sm md:text-xs text-xs absolute -right-8 whitespace-nowrap overflow-visible":o.length<=10?C.className="text-[#9A9A9A] lg:text-sm md:text-xs text-xs absolute -right-20 whitespace-nowrap overflow-visible":C.className="text-[#9A9A9A] lg:text-sm md:text-xs text-xs absolute right-0 whitespace-nowrap overflow-visible",C.textContent=Z(),O.appendChild(C),b.appendChild(m),b.appendChild(w),a.length!==0&&(b.appendChild(S),b.appendChild(document.createElement("br"))),b.appendChild(u),f.appendChild(b),I()}async function $(e=!1){I();var t=[{button_id:"erpnext",button_label:"ERPNext",button_click_action:Me,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 hover:bg-[#3E96F4] hover:text-white"},{button_id:"service_now",button_label:"ServiceNow",button_click_action:Fe,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 hover:bg-[#3E96F4] hover:text-white"},{button_id:"customization",button_label:"Something Else",button_click_action:Oe,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 hover:bg-[#3E96F4] hover:text-white"},{button_id:"career",button_label:"Career",button_click_action:De,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 hover:bg-[#3E96F4] hover:text-white"}],o="Hey There!  So good to see you here. Welcome to Sanskar Technolab.  I’m here to help you out with your queries!",n="How can I help you with? ";e&&await d("messages","px-2 pt-2 mr-5 mt-5",o,[],"",[],3e3,!1),await d("messages","px-2 pt-2 mr-5",n,t)}async function Te(e){e.preventDefault();const t=new FormData(e.target),o=Object.fromEntries(t.entries());console.log("data--------->",o),t.set("data",JSON.stringify(o));var n=o.chat_message;if(console.log("data--------->",n),n==="")i.classList.add("!border","!border-red-500"),i.classList.remove("border-none");else{var r=document.getElementById("messages");const s=r.lastElementChild.firstElementChild.innerHTML;if(s==="Kindly let us know the details of your specific requirements, so we can assist you better!"){A.push({question:s,answer:n}),i.value="",E("messages","px-2 pt-2 text-right ml-5 mt-5",n);var a="Please provide your contact details so we can reach out to you.";await d("messages","px-2 pt-2 mr-5 mt-5 -mb-3",a,[],"",[]),N()}else if(s==="In order to assist you better, kindly provide a brief description of your customization needs."){A.push({question:s,answer:n}),i.value="",E("messages","px-2 pt-2 text-right ml-5 mt-5",n);var a="Please provide your contact details so we can reach out to you.";await d("messages","px-2 pt-2 mr-5 mt-5 -mb-3",a,[],"",[]),N()}else if(s==="What is your name ?")_.push({name:n}),i.value="",E("messages","px-2 pt-2 text-right ml-5 mt-5",n),qe();else if(s==="What is your email address ?")/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?(_.push({email:n}),i.value="",E("messages","px-2 pt-2 text-right ml-5 mt-5",n),Ne()):(i.classList.add("!border","!border-red-500"),i.classList.remove("border-none"));else{i.value="";var a="Sorry i can`t understand you. please select above option.";await d("messages","px-2 pt-2 mr-5 mt-5",a,[],"",[]),$()}}}function Me(){E("messages","px-2 pt-2 text-right ml-5 mt-5","ERPNext"),k=[],k.push("ERPNext");var e=[{button_id:"erpnext_custom",button_label:"Customization",button_click_action:Be,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 ml-5 hover:bg-[#3E96F4] hover:text-white"},{button_id:"e_module_check_confirm",button_label:"Confirm",button_click_action:Le,button_class:"border bg-[#3E96F4] text-white px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 ml-5 hover:bg-[#b2d5fb]"}],t=["Manufacturing","Inventory","Human Resources (HR)","CRM","Projects","Accounts","Sales","Purchase","Website","Support","LMS (Learning Management System)","Asset Management","Healthcare"],o="For ERPNext, which module would you like to proceed with? ";d("messages","px-2 pt-2 mr-5 mt-5",o,e,"",t)}async function Le(){if(v=[],["Manufacturing","Inventory","Human Resources (HR)","CRM","Projects","Accounts","Sales","Purchase","Website","Support","LMS (Learning Management System)","Asset Management","Healthcare"].forEach(o=>{const n=document.getElementById(o);n&&n.checked&&v.push({module_name:n.value})}),v.length===0)i.placeholder="Please select at least one module";else{var t="Please provide your contact details so we can reach out to you.";await d("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[]),N()}}async function Be(){E("messages","px-2 pt-2 text-right ml-5 mt-5","Customization"),P=1,v=[],["Manufacturing","Inventory","Human Resources (HR)","CRM","Projects","Accounts","Sales","Purchase","Website","Support","LMS (Learning Management System)","Asset Management","Healthcare"].forEach(o=>{const n=document.getElementById(o);n&&n.checked&&v.push({module_name:n.value})});var t="In order to assist you better, kindly provide a brief description of your customization needs.";await d("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[]),i.placeholder="message",i.disabled=!1,L.disabled=!1}function Fe(){E("messages","px-2 pt-2 text-right ml-5 mt-5","ServiceNow"),k=[],k.push("ServiceNow");var e=[{button_id:"service_now_custom",button_label:"Customization",button_click_action:Pe,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 ml-5 hover:bg-[#3E96F4] hover:text-white"},{button_id:"s_modeule_check_confirm",button_label:"Confirm",button_click_action:Ae,button_class:"border bg-[#3E96F4] text-white px-3 p-1 text-sm md:text-sm lg:text-base rounded-lg mt-1 ml-5 hover:bg-[#b2d5fb]"}],t=["IT Service Management (ITSM)","IT Operations Management (ITOM)","IT Asset Management (ITAM)","IT Business Management (ITBM)","HR Service Delivery (HRSD)","Automated Test Framework (ATF)","Governance, Risk, and Compliance (GRC)","Performance Analytics (PA)","Security Operations (SecOps)","Customer Service Management (CSM)","Field Service Management (FSM)","Telecommunications Service Management (TSM)","Service Portal","Event Management","Orchestration","App Engine Studio"],o="For ServiceNow, which module would you like to proceed with? ";d("messages","px-2 pt-2 mr-5 mt-5",o,e,"",t)}async function Ae(){v=[];var e=["IT Service Management (ITSM)","IT Operations Management (ITOM)","IT Asset Management (ITAM)","IT Business Management (ITBM)","HR Service Delivery (HRSD)","Automated Test Framework (ATF)","Governance, Risk, and Compliance (GRC)","Performance Analytics (PA)","Security Operations (SecOps)","Customer Service Management (CSM)","Field Service Management (FSM)","Telecommunications Service Management (TSM)","Service Portal","Event Management","Orchestration","App Engine Studio"];if(e.forEach(o=>{const n=document.getElementById(o);n&&n.checked&&v.push({module_name:n.value})}),v.length===0)i.placeholder="Please select at least one module";else{var t="Please provide your contact details so we can reach out to you.";await d("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[]),N()}}async function Pe(){E("messages","px-2 pt-2 text-right ml-5 mt-5","Customization"),P=1,v=[];var e=["IT Service Management (ITSM)","IT Operations Management (ITOM)","IT Asset Management (ITAM)","IT Business Management (ITBM)","HR Service Delivery (HRSD)","Automated Test Framework (ATF)","Governance, Risk, and Compliance (GRC)","Performance Analytics (PA)","Security Operations (SecOps)","Customer Service Management (CSM)","Field Service Management (FSM)","Telecommunications Service Management (TSM)","Service Portal","Event Management","Orchestration","App Engine Studio"];e.forEach(o=>{const n=document.getElementById(o);n&&n.checked&&v.push({module_name:n.value})});var t="In order to assist you better, kindly provide a brief description of your customization needs.";await d("messages","px-2 pt-2 mr-5 mt-5 -mb-3",t,[],"",[]),i.placeholder="message",i.disabled=!1,L.disabled=!1}async function Oe(){E("messages","px-2 pt-2 text-right ml-5 mt-5","Something Else"),k=[],k.push("Something Else");var e="Kindly let us know the details of your specific requirements, so we can assist you better!";await d("messages","px-2 pt-2 mr-5 mt-5",e,[],"",[]),i.placeholder="message",i.disabled=!1,L.disabled=!1}async function N(){var e="What is your name ?";await d("messages","px-2 pt-2 mr-5 mt-5",e,[],"",[],0),i.placeholder="Enter your name",i.disabled=!1,L.disabled=!1}async function qe(){var e="What is your email address ?";await d("messages","px-2 pt-2 mr-5 mt-5",e,[],"",[]),i.placeholder="Enter your email",i.disabled=!1,L.disabled=!1}function Ne(e){function t(){return fetch("https://api.ipify.org?format=json").then(o=>o.json()).then(o=>o.ip).catch(o=>(console.error("Error fetching IP address:",o),null))}t().then(o=>{let{browserName:n,device:r}=Q();o?fetch("https://sanskar.frappe.cloud/api/resource/Enquiry",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`token ${J}:${K}`},body:JSON.stringify({email:_[1].email,first_name:_[0].name,technology:k[0],module:v,question_answer:A,token:W,is_owner:1,ip:o,browser_name:n,device:r,need_customization:P,enquiry_source:"Website Chat"})}).then(a=>{if(a.status===200){var s="Thank you! We have received your contact details. Our team will get back to you. For further details, you can reach out to us at  <a href='mailto:info@sanskartechnolab.com' class='text-[#3E96F4]'>info@sanskartechnolab.com</a>",c=[{button_id:"start_over",button_label:"Start Over",button_click_action:Y,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-xs md:text-sm lg:text-base rounded-lg mt-1 ml-5 mt-5 hover:bg-[#3E96F4] hover:text-white"}];d("messages","px-2 pt-2 mr-5 mt-5",s,c,"",[]),i.placeholder="Please select from the options",i.disabled=!0,L.disabled=!0}else console.log("failed to post form",a),X(_[0].name,_[1].email,k[0],v,A,"Website Enquiry",P,o,n,r,a).then(()=>{alert("Failed to submit data. Please try after some time.")}).catch(f=>{alert("Failed to submit data. Please try after some time."),console.error("Failed to send email:",f)})}).catch(a=>{console.log(a)}):alert("Failed to retrieve IP address")})}async function De(){E("messages","px-2 pt-2 text-right ml-5 mt-5","Career");var e="<a href='/career?s=1' class='text-[#3E96F4]'>Click here to see current opening</a>";await d("messages","px-2 pt-2 mr-5 mt-5",e,[],"",[])}function je(){G.classList.remove("hidden"),window.innerWidth<1024&&(V.style.overflow="hidden"),H.classList.add("hidden"),$(!0)}const J="c9025a4d07020e1",K="78509ec3e33e18e";function Re(){for(_=[];M.firstChild;)M.removeChild(M.firstChild);G.classList.add("hidden"),V.style.overflow="auto",H.classList.remove("hidden"),getUserIPAddress().then(e=>{let{browserName:t,device:o}=Q();fetch("https://sanskar.frappe.cloud/api/resource/Enquiry",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`token ${J}:${K}`},body:JSON.stringify({email:_[1].email,first_name:_[0].name,technology:k[0],module:v,question_answer:A,token:W,is_owner:1,ip:e,browser_name:t,device:o,need_customization:P,enquiry_source:"Website Chat"})}).then(n=>{if(n.status===200){var r="Thank you for providing your information. Our sales team will reach you soon at your email address. For any other details, you can reach us at <a href='mailto:info@sanskartechnolab.com' class='text-[#3E96F4]'>info@sanskartechnolab.com</a>",a=[{button_id:"start_over",button_label:"Start Over",button_click_action:Y,button_class:"border border-[#3E96F4] text-[#3E96F4] px-3 p-1 text-xs md:text-sm lg:text-base rounded-lg mt-1 ml-5 mt-5 hover:bg-[#3E96F4] hover:text-white"}];d("messages","px-2 pt-2 mr-5 mt-5",r,a,"",[]),i.placeholder="Please select from the options",i.disabled=!0,L.disabled=!0}else console.log("failed to post form",n),X(_[0].name,_[1].email,k[0],v,A,"Website Enquiry",P,e,t,o,n).then(()=>{alert("Failed to submit data. Please try after some time.")}).catch(s=>{alert("Failed to submit data. Please try after some time."),console.error("Failed to send email:",s)})}).catch(n=>{console.log(n)})})}function We(){i.classList.remove("!border","!border-red-500")}function Z(){const e=new Date;let t=e.getHours(),o=e.getMinutes();const n=t>=12?"PM":"AM";return t=t%12,t=t||12,o=String(o).padStart(2,"0"),`${t}:${o} ${n}`}function I(){const e=document.getElementById("messages");e.scrollTop=2e3}function He(){return new Promise((e,t)=>{fetch("https://api.ipify.org?format=json").then(o=>o.json()).then(o=>{const n=o.ip;e(n)}).catch(o=>{console.error("Error fetching IP address:",o),t(o)})})}function Q(){const e=navigator.userAgent;var t="Unknown";e.indexOf("Chrome")!==-1?t="Google Chrome":e.indexOf("Firefox")!==-1?t="Mozilla Firefox":e.indexOf("Safari")!==-1?t="Apple Safari":e.indexOf("Edg")!==-1?t="Microsoft Edge":(e.indexOf("MSIE")!==-1||e.indexOf("Trident")!==-1)&&(t="Internet Explorer");const o=window.innerWidth;var n="Unknown";return o<=576?n="Mobile":o<=992?n="Tablet":o<=1200?n="Laptop":n="Desktop",{browserName:t,device:n}}He().then(e=>{}).catch(e=>{console.error("Error:",e)});function $e(){const e=document.getElementById("messages");if(e){const t=e.querySelectorAll('input[type="checkbox"]'),o=e.querySelectorAll("button");if(t.length>0)for(let n=0;n<t.length;n++)t[n].disabled=!0;if(o.length>0)for(let n=0;n<o.length;n++)o[n].disabled=!0,o[n].classList.remove("hover:bg-[#3E96F4]","hover:text-white","hover:bg-[#b2d5fb]")}}function Y(){for(_=[];M.firstChild;)M.removeChild(M.firstChild);$()}i.addEventListener("focus",We);Ie.addEventListener("submit",Te);H.addEventListener("click",je);Ce.addEventListener("click",Re);function X(e="",t="",o="",n="",r="",a,s="",c="",f="",b="",m=""){console.log("sending email notification..."),fetch("https://sanskartechnolab.com/api/method/astro_sanskar.api.send_form_failed_notification",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({full_name:e,email:t,selected_technology:o,need_customization:s,selected_module:n,questions_answer:r,enquiry_source:"Website Chat",ip:c,browser_name:f,device:b,response:m,page_name:"Chatbot"})}).then(u=>{u.status===200?console.log("email notification sent."):(console.log("failed to send email notification",u),alert("We are unable to process your request. please send your requirements on info@sanskartechnolab.com"))}).catch(u=>{console.log("error",u)})}let D;function ee(){D=window.location.pathname.slice(1),console.log("Current URL:"+D)}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contact-button");e&&e.addEventListener("click",ee)});document.querySelector("#contact-button").addEventListener("click",()=>{document.querySelector("#contact-modal").classList.remove("hidden")});function te(){const e=document.getElementById("contact-modal");e&&e.classList.add("hidden"),document.body.style.overflow="auto"}document.querySelector("#cancel-button").addEventListener("click",te);var ze=document.getElementById("contactpop_form");ze.addEventListener("submit",Je);var T=document.querySelector('input[id="c_email"]');T.addEventListener("blur",Ue);function Ue(){const e=T.value.trim(),t=T.nextElementSibling;if(e===""){U(t),T.style.borderColor="";return}ne(e)?(U(t),T.style.borderColor=""):(j(T),oe(t,"Please enter a valid email address."))}const Ge="c9025a4d07020e1",Ve="78509ec3e33e18e";function j(e){e.style.borderColor="red"}function q(e){e.addEventListener("focus",()=>{e.style.borderColor=""})}function Je(e){e.preventDefault();const t=document.querySelector('input[id="c_name"]'),o=document.querySelector('input[id="c_email"]'),n=document.querySelector('textarea[name="c_requirements"]'),r=document.querySelector('input[id="c_phone"]'),a=t.value.trim(),s=o.value.trim(),c=n.value.trim();if(r.value.trim(),q(t),q(o),q(n),q(r),a===""&&j(t),(s===""||!ne(s))&&oe(o.nextElementSibling,"Please enter a valid email address."),c===""&&j(n),a===""||s===""||c==="")return;const m=new URLSearchParams(window.location.search).get("page")?"Demo":"General";console.log("queryTypeValue-----------",m);const u=new FormData(e.target),w=Object.fromEntries(u.entries());u.set("data",JSON.stringify(w));var S=w.c_name,O=w.c_email,C=w.c_phone,p=w.c_requirements;Qe().then(h=>{let{browserName:y,device:x}=Ze();fetch("https://sanskar.frappe.cloud/api/resource/Enquiry",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`token ${Ge}:${Ve}`},body:JSON.stringify({first_name:S,email:O,phone:C,message:p,enquiry_source:"Website Enquiry",demo_for:D,query_type:m,ip:h,browser_name:y,device:x})}).then(g=>{g.status===200?window.location.href="/thank-you":(console.log("failed to post form",g),Ye(S,O,C,p,"Website Enquiry",m,h,y,x,g),alert("Failed to submit data. Please try after some time."))}).catch(g=>{console.log(g)})})}function ne(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function oe(e,t){!e||!e.classList.contains("error-message")?(e=document.createElement("p"),e.textContent=t,e.classList.add("error-message"),e.style.color="red",e.style.fontSize="0.8rem",e.style.marginTop="0.2rem",e.style.marginBottom="0",T.parentNode.insertBefore(e,T.nextSibling)):e.textContent=t}function U(e){e&&e.classList.contains("error-message")&&e.remove()}function Ke(){const e=document.getElementById("contact-modal");e&&e.classList.remove("hidden"),document.body.style.overflow="hidden"}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contact-button");e&&e.addEventListener("click",function(){ee(),Ke()});const t=document.getElementById("cancel-button");t&&t.addEventListener("click",te)});function Ze(){const e=navigator.userAgent;var t="Unknown";e.indexOf("Chrome")!==-1?t="Google Chrome":e.indexOf("Firefox")!==-1?t="Mozilla Firefox":e.indexOf("Safari")!==-1?t="Apple Safari":e.indexOf("Edg")!==-1?t="Microsoft Edge":(e.indexOf("MSIE")!==-1||e.indexOf("Trident")!==-1)&&(t="Internet Explorer");const o=window.innerWidth;var n="Unknown";return o<=576?n="Mobile":o<=992?n="Tablet":o<=1200?n="Laptop":n="Desktop",{browserName:t,device:n}}function Qe(){return fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>e.ip).catch(e=>(console.error("Error fetching IP address:",e),null))}function Ye(e="",t="",o="",n="",r="",a="",s="",c="",f="",b="",m=""){console.log("sending email notification..."),fetch("https://sanskartechnolab.com/api/method/astro_sanskar.api.send_form_failed_notification",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({full_name:e,email:t,phone:o,message:n,enquiry_source:"Website Enquiry",demoForValue:a,queryTypeValue:s,ip:c,browser_name:f,device:b,response:m,page_name:"Contact Us PopUp"})}).then(u=>{u.status===200?console.log("email notification sent."):(console.log("failed to send email notification",u),alert("We are unable to process your request. please send your requirements on info@sanskartechnolab.com"))}).catch(u=>{console.log("error",u)})}
